<%- include('../partials/header.ejs') %>
      <div class="card">

<h2>New Book</h2>
<form action="/books" method="POST">
  <label for="isbn">ISBN:</label>
  <input type="text" id="isbn" name="isbn" required />

  <label for="title">Title:</label>
  <input type="text" id="title" name="title" required />
  
  <label for="category">Category:</label>
  <input type="text" id="category" name="category" required />

  <label for="description">Description:</label>
  <textarea id="description" name="description" required></textarea>

  <label for="unitPrice">Unit Price:</label>
  <input type="text" id="unitPrice" name="unitPrice" required />

  <label for="stock">Stock:</label>
  <input type="text" id="stock" name="stock" required />



  <label for="publisher">Publisher:</label>
  <input type="text" id="publisher" name="publisher" required />
  <label for="authorId">Select Existing Author:</label>
<select id="authorId" name="authorId">
  <% if (authors.length === 0) { %>
    <option value="" selected>-- None / Add new --</option>
  <% } else { %>
    <option value="">-- None / Add new --</option>
    <% authors.forEach((author, index) => { %>
      <option value="<%= author._id %>" <%= index === 0 ? 'selected' : '' %>>
        <%= author.name %>
      </option>
    <% }) %>
  <% } %>
</select>

<div id="new-author-fields" style="display: none;">
  <p>If not in list, add new author below:</p>

  <label for="newAuthorName">New Author Name:</label>
  <input type="text" id="newAuthorName" name="newAuthorName" />

  <label for="newAuthorBiography">New Author Biography:</label>
  <input type="text" id="newAuthorBiography" name="newAuthorBiography" />
</div>



  <label for="image">Image URL:</label>
  <input type="text" id="image" name="image" />

  <button type="submit">Create</button>
</form>
      </div>
<%- include('../partials/footer.ejs') %>
